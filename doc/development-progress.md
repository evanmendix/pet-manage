# 開發進度報告與未來計畫

本文旨在分析目前專案的開發現況，並規劃後續的開發步驟。

## 1. 開發現況分析

### 後端 API (Backend - Kotlin/Ktor)

*   **狀態**: 核心功能已完成。
*   專案已依照 `doc/api/sd.md` 的規劃完成基礎架構。
*   **已完成功能**:
    *   `POST /users`: 建立新使用者。
    *   `PUT /users/{userId}`: 更新使用者資訊。
    *   `POST /feedings`: 新增餵食紀錄。
    *   `GET /feedings`: 取得最近的餵食紀錄。
    *   `GET /status/current`: 取得當前餵食狀態 (對應 US-04)，用於避免重複餵食。
*   **待辦功能**:
    *   `POST /pets/{petId}/weights`: 新增體重紀錄 (對應 US-07)。
    *   `GET /pets/{petId}/weights`: 取得歷史體重紀錄 (對應 US-07)。
    *   `GET /albums/photos`: 取得相簿照片 (對應 US-08)。
    *   定時檢查與推播通知服務 (對應 US-06)。

### 前端 App (Frontend - Android)

*   **狀態**: 核心功能與主要故事線已完成。
*   已建立 Android 專案，並整合了 MVVM, Hilt, Retrofit, Compose 等核心技術。
*   **已完成功能**:
    *   **使用者設定 (US-01)**: 完成首次啟動的設定流程，包含 Firebase 匿名登入、引導使用者設定名稱，並與後端 API 串接。
    *   **核心餵食流程 (US-04)**: 完成主畫面的「餵食」按鈕功能，包含檢查狀態、送出紀錄。
    *   **拍照餵食**: 在餵食流程中整合了相機功能，可拍攝照片並上傳至 Firebase Storage。
    *   **餵食紀錄列表 (US-05)**: 完成主畫面的歷史紀錄列表，可顯示最近的餵食事件、餵食者與時間。
*   **待辦功能**:
    *   **UI/UX 優化 (US-01, US-05)**: 目前 UI 僅為基礎功能，需要根據 `doc/android-app/ui-ux.md` 進行美化，例如加上使用者大頭貼、美化紀錄列表等。
    *   **快捷功能 (US-02, US-03)**: 桌面小工具與 App Shortcuts。
    *   **推播通知 (US-06)**: 整合 FCM 以接收未餵食的提醒。
    *   **體重追蹤功能 (US-07)**: 體重記錄與歷史趨勢圖。
    *   **寵物相簿 (US-08)**: 整理所有餵食照片的專屬相簿。

---

## 2. 剩餘進度開發計畫

為了完成所有使用者故事 (User Stories)，我們規劃了以下的開發路徑。

### 後端開發計畫 (Kotlin/Ktor)

#### Phase 1: 進階功能開發

1.  **實作體重記錄 API**:
    *   **目標**: 完成 `POST /pets/{petId}/weights` 與 `GET /pets/{petId}/weights` 端點。
    *   **對應故事**: US-07 (記錄並查看貓咪的歷史體重)。
2.  **實作相簿 API**:
    *   **目標**: 完成 `GET /albums/photos` 端點，讓 App 能取得所有餵食照片。
    *   **對應故事**: US-08 (擁有一個自動整理所有餵食照片的專屬相簿)。
3.  **實作定時通知服務**:
    *   **目標**: 在 Ktor 中加入一個定時任務，每日定時檢查是否已餵食。若未餵食，則透過 `Firebase Admin SDK` 發送推播通知。
    *   **對應故事**: US-06 (如果到了該吃飯的時間還沒有人餵貓，我能收到手機通知)。

### 前端開發計畫 (Android App)

#### Phase 1: UI/UX 優化與快捷功能

1.  **UI/UX 優化**:
    *   **目標**: 根據 `doc/android-app/ui-ux.md` 的設計稿，全面美化 App 介面，包含使用者大頭貼、紀錄列表樣式等。
    *   **對應故事**: US-01, US-05。
2.  **快捷功能整合**:
    *   **目標**: 實作 `App Widgets` 與 `App Shortcuts`，讓使用者能從手機桌面一鍵啟動餵食流程。
    *   **對應故事**: US-02, US-03。

#### Phase 2: 進階功能與通知

1.  **體重追蹤功能**:
    *   **目標**: 建立體重記錄頁面與歷史趨勢圖，並串接後端 API。
    *   **對應故事**: US-07 (記錄並查看貓咪的歷史體重與趨勢圖)。
2.  **寵物相簿**:
    *   **目標**: 建立一個專屬相簿頁面，展示所有貓咪的照片。
    *   **對應故事**: US-08 (擁有一個自動整理所有餵食照片的專屬相簿)。
3.  **推播通知**:
    *   **目標**: 整合 `Firebase Cloud Messaging (FCM)`，讓 App 能夠接收並顯示來自後端的提醒通知。
    *   **對應故事**: US-06 (確保貓咪不會餓肚子)。