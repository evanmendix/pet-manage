# UI/UX 流程

*   **首次啟動與設定**:
    `App` 啟動 -> `Firebase` 匿名登入 -> 檢查是否已設定個人資料 -> (否) -> 進入設定畫面 -> 使用者輸入名稱並上傳大頭貼 -> 呼叫 `API` 儲存 -> 進入主畫面
*   **快捷餵食流程 (Widget/Shortcut)**:
    點擊桌面捷徑 [餵正餐] -> 啟動無畫面 `Activity` -> 呼叫 `API` 檢查狀態 -> (未餵食) -> 直接啟動相機...
*   **查看餵食紀錄**:
    主畫面 -> 進入歷史紀錄頁 -> `App` 呼叫 `GET /feedings` -> `API` 返回數據 -> `UI` 顯示列表，包含餵食者的大頭貼與名稱。
*   **多寵物管理流程 (Multi-Pet Management Flow)**:
    *   **核心概念**: App 的核心體驗會根據使用者「管理中」的寵物數量進行智慧調整，以在多寵物和單寵物場景下都提供最佳體驗。
    *   **寵物管理畫面**:
        *   **入口**: 從主畫面的選單或設定頁面進入。
        *   **功能**:
            *   列表顯示家庭中的所有寵物。
            *   每隻寵物旁都有一個「我來管理」的開關，用於將寵物納入或移出自己的餵食管理範圍 (呼叫 `POST/DELETE /pets/{petId}/managers` API)。
            *   提供「新增寵物」按鈕，點擊後會進入新增寵物流程。
    *   **智慧主畫面 (餵食畫面) 邏輯**:
        *   **App 啟動時**: 呼叫 `GET /pets` 並過濾出 `managingUserIds` 包含當前使用者的寵物列表 (`managedPets`)。
        *   **如果 `managedPets` 數量為 1**:
            *   UI 直接顯示該寵物的名稱，無需選擇。
            *   「餵食」按鈕直接對該寵物生效。
        *   **如果 `managedPets` 數量 > 1**:
            *   UI 顯示一個寵物選擇器 (如：下拉選單)。
            *   使用者必須先選擇寵物，才能進行餵食操作。
        *   **如果 `managedPets` 數量為 0**:
            *   UI 顯示提示訊息，引導使用者去「寵物管理」畫面設定。
            *   「餵食」按鈕暫時禁用。
